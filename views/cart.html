<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина · AURA</title>
    <meta name="description" content="Корзина AURA — оформление заказа и итоговая стоимость.">
    <meta property="og:site_name" content="AURA">
    <meta property="og:title" content="Корзина · AURA">
    <meta property="og:description" content="Корзина AURA — оформление заказа и итоговая стоимость.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://higherwaist.uz/cart">
    <meta property="og:image" content="https://higherwaist.uz/images/logo.PNG">
    <link rel="canonical" href="https://higherwaist.uz/cart">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Cormorant+Garamond:wght@300;400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div id="siteHeader"></div>

    <div class="cart-page">
        <div class="container">
            <div class="cart-items" id="cartItems">
                <!-- Items will be inserted here -->
            </div>

            <!-- Cart Summary -->
            <div class="cart-summary">
                <h3 class="summary-title">Итого</h3>

                <div class="summary-row">
                    <span>Товары (<span id="summaryItemCount">0</span>)</span>
                    <span id="summarySubtotal">0 Сумм</span>
                </div>

                <div class="summary-row" id="discountRow" style="display: none;">
                    <span>Скидка</span>
                    <span class="text-success" id="summaryDiscount">-0 Сумм</span>
                </div>

                <div class="summary-row">
                    <span>Доставка</span>
                    <span id="summaryDelivery">Бесплатно</span>
                </div>

                <div class="summary-row" id="vatRow" style="display: none;">
                    <span>НДС</span>
                    <span id="summaryVatAmount">0 Сумм</span>
                </div>

                <div class="summary-divider"></div>

                <div class="summary-row summary-total">
                    <span>К оплате</span>
                    <span id="summaryTotal">0 Сумм</span>
                </div>

                <!-- Promo Code -->
                <div class="promo-section">
                    <h4 class="promo-title">Промокод</h4>
                    <form class="promo-form" id="promoForm">
                        <input type="text" class="promo-input" id="promoInput" placeholder="Введите промокод"
                            aria-label="Промокод">
                        <button type="submit" class="btn btn-outline btn-sm">Применить</button>
                    </form>
                    <div class="promo-message" id="promoMessage"></div>
                    <div class="promo-applied" id="promoApplied" style="display: none;">
                        <span>Промокод: <strong id="appliedPromoCode"></strong></span>
                        <button class="promo-remove" id="removePromo" aria-label="Удалить промокод">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>

                <button class="btn btn-dark btn-large btn-block" id="checkoutBtn">
                    Оформить заказ
                </button>

                <div class="delivery-info">
                    <i class="fas fa-truck"></i>
                    <span id="deliveryInfoText">Бесплатная доставка от 5000 Сумм</span>
                </div>
            </div>
        </div>

        <!-- Empty State -->
        <div class="empty-state-large" id="emptyCart" style="display: none;">
            <i class="fas fa-shopping-bag empty-icon-large"></i>
            <h2>Корзина пуста</h2>
            <p>Добавьте товары из каталога</p>
            <a href="catalog.html" class="btn btn-primary">Перейти в каталог</a>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-overlay" id="checkoutModalOverlay"></div>
        <div class="modal-content checkout-modal">
            <button class="modal-close" id="checkoutModalClose" aria-label="Закрыть">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-body">
                <h3 style="margin-bottom: 8px;">Оформление заказа</h3>
                <p style="color: #757575; margin-bottom: 24px;">Заполните данные для оформления заявки</p>

                <form id="checkoutForm">
                    <div class="form-group">
                        <label for="customerName">Имя <span style="color: #C9A26C;">*</span></label>
                        <input type="text" id="customerName" class="form-input" placeholder="Ваше имя" required>
                    </div>

                    <div class="form-group">
                        <label for="customerPhone">Телефон <span style="color: #C9A26C;">*</span></label>
                        <input type="tel" id="customerPhone" class="form-input" placeholder="+998 (90) 123-45-67"
                            required>
                    </div>

                    <div class="form-group">
                        <label for="customerEmail">Email</label>
                        <input type="email" id="customerEmail" class="form-input"
                            placeholder="email@example.com (необязательно)">
                    </div>

                    <div class="form-group">
                        <label for="customerAddress">Адрес доставки <span style="color: #C9A26C;">*</span></label>
                        <textarea id="customerAddress" class="form-input" rows="3"
                            placeholder="Город, улица, дом, квартира" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="customerNotes">Комментарий к заказу</label>
                        <textarea id="customerNotes" class="form-input" rows="2"
                            placeholder="Пожелания по доставке или другие комментарии (необязательно)"></textarea>
                    </div>

                    <div class="checkout-summary">
                        <div class="summary-row">
                            <span>Товаров:</span>
                            <span id="summaryItemCount">0</span>
                        </div>
                        <div class="summary-row">
                            <span>Сумма:</span>
                            <span id="summarySubtotal">0 Сумм</span>
                        </div>
                        <div class="summary-row" id="summaryDiscountRow" style="display: none;">
                            <span>Скидка:</span>
                            <span id="summaryDiscountAmount" style="color: #4CAF50;">0 Сумм</span>
                        </div>
                        <div class="summary-row">
                            <span>Доставка:</span>
                            <span id="summaryShipping">500 Сумм</span>
                        </div>
                        <div class="summary-row" id="summaryVatRow" style="display: none;">
                            <span>НДС:</span>
                            <span id="summaryVat">0 Сумм</span>
                        </div>
                        <div class="summary-row total">
                            <span>Итого:</span>
                            <strong id="summaryTotal">0 Сумм</strong>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">Оформить заказ</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-overlay" id="successModalOverlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="successModalClose" aria-label="Закрыть">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-body checkout-modal-body">
                <i class="fas fa-check-circle checkout-icon"></i>
                <h3>Заказ оформлен!</h3>
                <p>Ваша заявка успешно отправлена.</p>
                <p>Мы свяжемся с вами в ближайшее время для подтверждения.</p>
                <p><strong>Номер заказа: <span id="orderNumber"></span></strong></p>
                <button class="btn btn-primary" id="closeSuccessModal">Понятно</button>
            </div>
        </div>
    </div>

    <div id="siteFooter"></div>

    <!-- Wishlist Drawer -->
    <div class="drawer" id="wishlistDrawer">
        <div class="drawer-overlay" id="wishlistDrawerOverlay"></div>
        <div class="drawer-content">
            <div class="drawer-header">
                <h3 class="drawer-title">Избранное (<span id="drawerWishlistCount">0</span>)</h3>
                <button class="drawer-close" id="wishlistDrawerClose" aria-label="Закрыть">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="drawer-body" id="drawerWishlistItems"></div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="/js/api.js"></script>
    <script src="/js/discounts-loader.js"></script>
    <script src="/js/products-loader.js"></script>
    <script src="/js/promo-manager.js"></script>
    <script src="/js/data.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/layout.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/cart-page.js"></script>
</body>

</html>